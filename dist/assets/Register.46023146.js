import{l as B,n as T,r as h,a5 as q,a6 as E,y as l,c as r,F as _,j as i,G as t,p as k,C as S,B as N,N as P,a8 as n,q as W,T as p,W as g,v as f,ac as D,ad as o,ae as I,af as j}from"./index.a66382f1.js";const U=D().shape({name:o().required("Username is required"),last_name:o().required("Username is required"),username:o().required("Username is required"),email:o().email("Enter a valid email").required("Email is required"),password:o().required("Password is required").min(8,"Password length must be of minimun 8 chars"),phone:o().min(10,"Minimun number length is 10").max(10,"Maximun number length is 10").required("Number is required"),identification:I().nullable(!0).required("Number is required"),birth_date:j().required("BirthDate is required")});function R(){const x={padding:20,height:"100%",width:450,margin:"100px auto"},b=B(),w=T(),[C,u]=h.exports.useState(!1),v={username:"",password:"",email:"",name:"",last_name:"",phone:"",identification:"",birth_date:"",type_user:"User"};h.exports.useEffect(()=>{var s;(s=document.getElementById("formSubmit"))==null||s.click(),window.localStorage.getItem("user")&&window.history.back()},[]);const d=()=>u(!1),y=()=>u(!0),e=q({initialValues:v,validationSchema:U,onSubmit:()=>{y(),fetch(`${E.modifyUser}/`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e.values)}).then(a=>a.json()).then(a=>{var s,m,c;d(),((s=a.username)==null?void 0:s.includes("existe"))||((m=a.email)==null?void 0:m.includes("existe"))||isNaN(a.identification)&&((c=a.identification)==null?void 0:c.includes("existe"))?l.fire({title:"Error!",text:a.username||a.email||a.identification,icon:"error",confirmButtonText:"Try again!"}):(l.fire({title:"Success!",icon:"success",text:"You're Registered!, you will be redirect to Login",showConfirmButton:!1,timer:2e3}),setTimeout(()=>{b("/login")},2200))}).catch(a=>{d(),l.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"Try again!"})})}});return w.user?r(_,{}):i(t,{alignContent:"-webkit-center",children:[r(k,{sx:{color:"#fff",zIndex:a=>a.zIndex.drawer+1},open:C,children:r(S,{color:"inherit"})}),r(N,{component:"form",noValidate:!1,onSubmit:e.handleSubmit,sx:{mt:3},children:i(P,{elevation:10,style:x,children:[r("h2",{children:"Register here"}),i(t,{container:!0,spacing:1,children:[r(t,{item:!0,xs:6,children:r(n,{label:"Name",placeholder:"Enter your names...",fullWidth:!0,id:"name",name:"name",value:e.values.name,onChange:e.handleChange,error:e.touched.name&&Boolean(e.errors.name),helperText:e.touched.name&&e.errors.name})}),r(t,{item:!0,xs:6,children:r(n,{label:"Last Name",placeholder:"Enter your last name...",fullWidth:!0,id:"last_name",name:"last_name",value:e.values.last_name,onChange:e.handleChange,error:e.touched.last_name&&Boolean(e.errors.last_name),helperText:e.touched.last_name&&e.errors.last_name})})]}),r(n,{label:"Username",sx:{mt:3},placeholder:"Enter an username...",fullWidth:!0,id:"username",name:"username",value:e.values.username,onChange:e.handleChange,error:e.touched.username&&Boolean(e.errors.username),helperText:e.touched.username&&e.errors.username,autoComplete:"username"}),r(n,{sx:{marginTop:3,marginBottom:3},label:"Email",placeholder:"Enter your email...",fullWidth:!0,id:"email",name:"email",value:e.values.email,onChange:e.handleChange,error:e.touched.email&&Boolean(e.errors.email),helperText:e.touched.email&&e.errors.email,autoComplete:"email"}),r(n,{sx:{marginBottom:3},label:"Password",placeholder:"Enter password...",type:"password",fullWidth:!0,id:"password",name:"password",value:e.values.password,onChange:e.handleChange,error:e.touched.password&&Boolean(e.errors.password),helperText:e.touched.password&&e.errors.password,autoComplete:"password"}),i(t,{container:!0,spacing:1,children:[r(t,{item:!0,xs:5,children:r(n,{sx:{width:"100%"},id:"birth_date",label:"Birthdate",type:"date",value:e.values.birth_date,onChange:e.handleChange,InputLabelProps:{shrink:!0}})}),r(t,{item:!0,xs:7,children:r(n,{label:"Phone",placeholder:"Enter phone...",type:"number",sx:{marginBottom:5},fullWidth:!0,id:"phone",name:"phone",value:e.values.phone,onChange:e.handleChange,error:e.touched.phone&&Boolean(e.errors.phone),helperText:e.touched.phone&&e.errors.phone})})]}),r(n,{label:"Identification",placeholder:"Enter your DNI/CC...",type:"number",fullWidth:!0,id:"identification",name:"identification",value:e.values.identification,onChange:e.handleChange,error:e.touched.identification&&Boolean(e.errors.identification),helperText:e.touched.identification&&e.errors.identification}),r(W,{type:"submit",id:"formSubmit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Register Now"}),i(p,{sx:{mt:2},children:["Have an account?"," ",r(g,{to:f.login,style:{textDecoration:"underline",color:"blue"},children:"Go to login!"})]}),i(p,{sx:{mt:2},children:["Quieres registrarte con tu Google Account?",r(g,{to:f.login,style:{textDecoration:"underline",color:"blue"},children:"Go to login!"})]})]})})]})}export{R as default};
